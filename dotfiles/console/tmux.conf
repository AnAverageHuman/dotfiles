# File: ~/.tmux.conf

# {{{ Options
set -g default-terminal "screen-256color"
set -g history-limit 100000
set -g base-index 1
setw -g pane-base-index 1
setw -g monitor-activity on

set -g set-titles on
set -g set-titles-string '#T'

# fix vim mode switching delay (http://superuser.com/a/252717/65504)
set -s escape-time 0

# tmux messages are displayed for 2 seconds
set -g display-time 2000

# focus events on for terminals that support them
set -g focus-events on

set -g status-bg '#4e4e4e'
set -g status-fg '#ffffff'
set -g status-left ' '
set -g status-right '#[fg=#fff000](#(cut -d " " -f -3 /proc/loadavg)) #[bg=#4e4e4e]#[fg=#ffffff]#(date +" %a %F %R ")'
set -g status-position bottom

# prevent colors from being reversed
setw -g window-status-activity-attr none

set -g window-status-format '#I #W'
set -g window-status-current-format ' #I #W '
setw -g window-status-current-bg '#55ff55'
setw -g window-status-current-fg '#000000'
setw -g window-status-activity-fg '#000000'
setw -g window-status-activity-bg '#ff0000'

# emacs keys are probably better when editing single lines
set -g status-keys emacs
setw -g mode-keys vi

setw -g aggressive-resize on

# Enable mouse support
set -g mouse on
# }}}

# {{{ Keybindings
set -g prefix C-j
unbind C-b
bind C-j send-prefix

# Address the nested session, if there is any.
bind -n C-s send-prefix

bind r source-file ~/.tmux.conf
bind Escape copy-mode

bind C-j last-window
unbind l

# I keep forgetting to let go of Ctrl
bind C-c new-window
bind C-d detach
bind C-p previous-window
bind C-n next-window

# Better horizontal and vertical panes
unbind %
unbind '"'
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# vim-like keybindings for moving between panes
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# vim-like keybindings for resizing panes
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# move windows one to the left/right
bind -r "<" swap-window -t -1
bind -r ">" swap-window -t +1
# }}}

# vim:foldmethod=marker
